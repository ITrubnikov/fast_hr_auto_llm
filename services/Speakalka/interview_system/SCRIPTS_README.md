# Скрипты для системы интервью

## Описание

Данная папка содержит скрипты для управления системой технических интервью.

## Доступные скрипты

### 1. `restart_server.sh` - Запуск/перезапуск сервера

**Назначение:** Запускает или перезапускает сервер интервью с новым кодом.

**Использование:**
```bash
./restart_server.sh
```

**Что делает:**
- Останавливает существующий сервер (если запущен)
- Активирует виртуальное окружение
- Проверяет и устанавливает зависимости
- Очищает старые логи
- Запускает сервер в фоновом режиме
- Проверяет статус сервера

**Результат:**
- Сервер запущен на http://localhost:8000
- Логи сохраняются в `server.log`
- PID сервера выводится в консоль

### 2. `create_room.sh` - Создание комнаты интервью

**Назначение:** Создает новую комнату интервью через HTTP API.

**Использование:**
```bash
./create_room.sh
```

**Что делает:**
- Проверяет, что сервер запущен
- Отправляет запрос на создание комнаты
- Выводит код комнаты и URL
- Предлагает открыть комнату в браузере

**Результат:**
- Код комнаты для доступа
- URL для открытия в браузере
- Готовая к использованию комната

## Быстрый старт

1. **Запуск сервера:**
   ```bash
   ./restart_server.sh
   ```

2. **Создание комнаты:**
   ```bash
   ./create_room.sh
   ```

3. **Открытие в браузере:**
   - Скопируйте URL из вывода скрипта
   - Или нажмите 'y' при предложении открыть в браузере

## Управление сервером

### Остановка сервера:
```bash
pkill -f interview_server.py
```

### Просмотр логов:
```bash
tail -f server.log
```

### Проверка статуса:
```bash
curl http://localhost:8000/
```

## Устранение проблем

### Сервер не запускается:
1. Проверьте виртуальное окружение: `ls venv/`
2. Установите зависимости: `pip install -r requirements.txt`
3. Проверьте логи: `cat server.log`

### Комната не создается:
1. Убедитесь, что сервер запущен: `curl http://localhost:8000/`
2. Проверьте логи сервера: `tail -f server.log`
3. Перезапустите сервер: `./restart_server.sh`

### Порт занят:
1. Найдите процесс: `lsof -i :8000`
2. Остановите процесс: `kill -9 <PID>`
3. Перезапустите сервер: `./restart_server.sh`

## Структура файлов

```
interview_system/
├── restart_server.sh      # Скрипт запуска/перезапуска сервера
├── create_room.sh         # Скрипт создания комнаты
├── start_server.py        # Python скрипт запуска сервера
├── interview_server.py    # Основной сервер
├── server.log            # Логи сервера
└── venv/                 # Виртуальное окружение
```

## Примечания

- Все скрипты должны быть исполняемыми (`chmod +x`)
- Скрипты автоматически переходят в директорию проекта
- Логи сохраняются в `server.log`
- Сервер запускается в фоновом режиме
